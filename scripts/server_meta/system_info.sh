if [[ "$OSTYPE" == "linux-gnu"* ]]; then
    echo '{"hostname":"'"$(hostname -f | sed 's/"/\\"/g')"'", "system":"'"$(uname -s | sed 's/"/\\"/g')"'", "release":"'"$(uname -r | sed 's/"/\\"/g')"'", "machine":"'"$(uname -m | sed 's/"/\\"/g')"'", "processor":"'"$(uname -p | sed 's/"/\\"/g')"'", "distribution":"'"$(lsb_release -d | awk -F':' '{ print $2 }' | sed 's/^\s*//;s/\s*$//' | sed 's/"/\\"/g')"'", "cpu_cores":"'"$(grep -c ^processor /proc/cpuinfo | sed 's/"/\\"/g')"'", "memory":"'"$(grep MemTotal /proc/meminfo | awk '{print $2}')"'", "swap_memory":"'"$(grep SwapTotal /proc/meminfo | awk '{print $2}')"'", "kernel_parameters":"'"$(cat /proc/cmdline | sed 's/"/\\"/g')"'", "uptime":"'"$(uptime -p | sed 's/ up /\\\"up\\\":\\\"/g;s/ min/,\\\"minutes\\\":/g;s/hours?,/\\\"hours\\\":/g;s/ days?,/\\\"days\\\":/g;s/ //g;s/$/\\\"/')"'" }'
elif [[ "$OSTYPE" == "darwin"* ]]; then
    echo '{"hostname":"'"$(hostname | sed 's/"/\\"/g')"'", "system":"'"$(uname -s | sed 's/"/\\"/g')"'", "release":"'"$(sw_vers -productVersion | sed 's/"/\\"/g')"'", "machine":"'"$(uname -m | sed 's/"/\\"/g')"'", "processor":"'"$(sysctl -n machdep.cpu.brand_string | sed 's/"/\\"/g')"'", "distribution":"MacOS", "cpu_cores":"'"$(sysctl -n hw.physicalcpu | sed 's/"/\\"/g')"'", "memory":"'"$(sysctl -n hw.memsize | awk '{print $0/1073741824" GB"}' | sed 's/"/\\"/g')"'", "swap_memory":"NA", "kernel_parameters":"NA", "uptime":"'"$(uptime -p | sed 's/ up /\\\"up\\\":\\\"/g;s/ min/,\\\"minutes\\\":/g;s/hours?,/\\\"hours\\\":/g;s/ days?,/\\\"days\\\":/g;s/ //g;s/$/\\\"/')"'" }'
fi
